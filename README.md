# Bazel Build Examples

[![Build Status](https://travis-ci.org/larryaasen/bazelbuild_examples.svg?branch=master)](https://travis-ci.org/larryaasen/bazelbuild_examples)

This collection of examples demonstrates how to use [Bazel](https://bazel.build/)
on iOS builds with Xcode 11 and iOS 13.

## HelloWorld

The [HelloWorld](ios/HelloWorld) iOS example is a Swift project that was
generated by Xcode 11.3.1 and remains
in the same structure as when it was generated. The project file was removed
and replaced with a Bazel build.

The [ios/HelloWorld](ios/HelloWorld) folder contains a makefile named
[Makefile.bazel](ios/HelloWorld/Makefile.bazel) that shows
the Bazel commands required to build. It also contains commands to install
and launch the build on a simulator.

To build the HelloWorld app in Bazel, install it on the simulator, and then run
the app on the simulator, run this command from the Terminal:

    $ cd ios/HelloWorld
    $ make -f Makefile.bazel build_app

## HelloWorld2

The [HelloWorld2](ios/HelloWorld2) iOS example is the same as the
[HelloWorld](#HelloWorld) example, but with a BUILD file in the subfolder HelloWorld2.

To build the HelloWorld app in Bazel, install it on the simulator, and then run
the app on the simulator, run this command from the Terminal:

    $ cd ios/HelloWorld2
    $ make -f Makefile.bazel build_app

## Bazel Commands

There are various new commands used when building with Bazel for iOS so I have
placed them in a makefile called [Makefile.bazel](ios/HelloWorld/Makefile.bazel)
so it is easy to remember how to run bazel.

First, open a Terminal window and navigate to the ios/HelloWorld2
folder.

    $ cd ios/HelloWorld2

The bazel build command used for iOS is:

    $ bazel build --apple_platform_type=ios HelloWorld2/HelloWorld2

Using make you can just type:

    $ make -f Makefile.bazel build_app

To install the app just built with bazel onto the simualator:

    $ make -f Makefile.bazel install

To run the app on the simulator:

    $ make -f Makefile.bazel launch

To build, install, and launch the app all at once:

    $ make -f Makefile.bazel run

## Contributing
All [comments](https://github.com/larryaasen/bazelbuild_examples/issues) and [pull requests](https://github.com/larryaasen/bazelbuild_examples/pulls) are welcome.

[Become a Patron!](https://www.patreon.com/bePatron?u=15315667)
